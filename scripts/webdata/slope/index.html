<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Slope Game</title>
	<script id="slope" src="https://cdn.jsdelivr.net/gh/beak2825/special-bassoon/scripts/allpages11.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/beak2825/special-bassoon/scripts/speedhack.js"></script>
    <meta property="og:image" content="slope.png" />
	<base href="https://raw.githubusercontent.com/beak2825/special-bassoon/refs/heads/main/slope/"
    <link rel="shortcut icon" href="TemplateData/icon16.png">
    <link rel="stylesheet" href="TemplateData/style.css">

    <style>
	  #unity-canvas {
      position: absolute;
      left: 0px;
      top: 0px;
      width: 100%;
      height: 100%;
    }
      body{
        background: url("bg.jpg");
      }
      a:-webkit-any-link {
          color: -webkit-link;
          cursor: pointer;
          text-decoration: underline;
      }
      a{
        cursor: pointer;
      }
      h1 {
    position: absolute;
    text-align: center;
    z-index: 1;
    background: #fff;
    width: 100%;
    top: 0;
    margin: 0;
}
    </style>
  </head>
  <body>

   
    <canvas id="unity-canvas"></canvas>
      <div id="unity-loading-bar">
        <div id="unity-logo"></div>
        <div id="unity-progress-bar-empty">
          <div id="unity-progress-bar-full"></div>
        </div>
      </div>
    <script>
		const maxPixelRatioMobile = 2.0;
		const maxPixelRatioDesktop = 1.5;

		var isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
		var maxDevicePixelRatio = isMobile? maxPixelRatioMobile: maxPixelRatioDesktop;
		var pixelRatio = Math.min(window.devicePixelRatio, maxDevicePixelRatio);
		console.log(pixelRatio);
		var buildUrl = "https://raw.githubusercontent.com/beak2825/special-bassoon/refs/heads/main/slope/Build";
		var loaderUrl = "https://cdn.jsdelivr.net/gh/beak2825/special-bassoon/slope/Build" + "/12020.3.23f1.loader.js";
		var config = {
			dataUrl: buildUrl + "/SlopeBuild.data",
			frameworkUrl: "https://cdn.jsdelivr.net/gh/beak2825/special-bassoon/slope/Build" + "/SlopeBuild.framework.js",
			codeUrl: buildUrl + "/SlopeBuild.wasm",
			streamingAssetsUrl: "StreamingAssets",
			companyName: "Y8",
			productName: "Slope",
			productVersion: "1.2",
			//devicePixelRatio: pixelRatio,
			//matchWebGLToCanvasSize: true
		};
		
		var container = document.querySelector("#unity-container");
		var canvas = document.querySelector("#unity-canvas");
		var loadingBar = document.querySelector("#unity-loading-bar");
		var progressBarFull = document.querySelector("#unity-progress-bar-full");
		
		console.log(screen.width);
		canvas.style.width = screen.width;
        canvas.style.height = screen.height;
		loadingBar.style.display = "block";
		var myGameInstance = null;
		var script = document.createElement("script");
		script.src = loaderUrl;
		script.onload = () => {
			createUnityInstance(canvas, config, (progress) => {
			  progressBarFull.style.width = 100 * progress + "%";
			}).then((unityInstance) => {
			  myGameInstance = unityInstance;
			  loadingBar.style.display = "none";
			  /*fullscreenButton.onclick = () => {
				unityInstance.SetFullscreen(1);
			  };*/
			}).catch((message) => {
			  alert(message);
			});
		};
		document.body.appendChild(script);
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/beak2825/special-bassoon/slope/js/gameBreakBeta.js"></script>
  </body>
</html>
